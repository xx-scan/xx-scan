# 2018-8-26 创建

##  测试JWT功能

# 2018-9-10 测试
- 主要工作内容见 `../readme.md#2018-9-10`

## 工作进度
- 创建 `oauth` 目录
- 

## 工作进度插入
- 设计WAF界面
- 自定义规则重新构建(依赖这个)
> 自定义规则添加的关键信息包括：\
>规则编号、规则名称、\
>规则说明、危害等级、\
>是否启用、拦截方式、\
>是否记录、http数据类型（请求、响应）、\
>http请求类型（get、post等）、\
>重定向页面、规则特征（关键字匹配或正则表达式匹配等）

- 自定义规则种类和详细内容的设计
- 每个种类设置一个类(ORM)
- 每个规则设置一个 rule_content 指向自定义的规则文档
- 再安排对应的规则启停(逻辑)
 - 1, 自定义规则 运行 redirect 针对IP进行链接 ctl 
 - 2, 设置详细的IP处理和网页黑白名单; 比如 `admin.php` 只允许什么样的访问（URL访问策略）
 - 3, 设置

## Lograte
`59 23 *  *  * root /usr/sbin/logrotate -f /etc/logrotate.d/suricata-fastlog`


## 2018-10-10
- 升级自定义规则的高级配置
- 升级这个部分的功能, 进行测试和调整
  - 1, 增加了URL访问重定向
  - 2, 重写了URL白名单功能, 可以拒绝非IP也可以重定向
  

## 2018-10-11
- 编写文档
- 准备引擎响应的相关配置[单机版]
 - 1, `/opt/nginx/manage` 中准备相关的引擎重启的关系
 - 2, `/opt/nginx/tmp` 存储中间文件 
 - 3, 单机版增加中间件 `仍然使用之前的内容`
 - 4, 跳过本流程, 仅进行记录。
 
 ## 2018-10-12
 - 自定义规则启停
   - 需要将自定义规则的 `PruleContent` 添加 `active` 
   - 结束这个配置; 我们可以直接在 `RemoveRule` 进行查看和关闭
   - 当前默认都是True
   - 后期修改 `get_query_set` 进行相关的修改和重写
   
   
 ## 2018-12-07
 - 今天周五; 工作两天完美实现了 `opt` 到 `phaser2/hockr`的转移
 - `api/opt|protect|plat` 全部舍弃！
 
 
 
 